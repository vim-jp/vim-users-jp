---
layout: post
title: "Hack #56: ローカル変数の宣言位置に移動する"
date: 2009-08-13
author: kana
---
<h3>問題</h3>

<p>プログラムを編集・読解する際に頻出する作業として、
				変数や関数などの宣言位置に移動することが挙げられます。</p>

<p><a href="/vim-users-jp/2009/07/18/Hack-43.html">Hack #43: タグジャンプを使用する</a>
				はその方法の一つですが、
				これはローカル変数を対象にはできないという欠点があります。
				また小規模の使い捨てスクリプトを書いている際には
				タグファイルの作成は少々手間です。</p>

<p><a href="/vim-users-jp/2009/08/03/Hack-51.html">Hack #51: カーソル下のキーワードを検索する</a>
				で紹介した<code>0</code>を利用すれば変数名や関数名の検索は容易にできますが、
				宣言位置を的確に検索することはできず、手間がかかります。</p>

<p>一度の操作でローカル変数の宣言位置に移動することはできないでしょうか。</p>

<h3>解決方法</h3>

<p>Normal modeで<code>0</code>をタイプします。
<code>0</code>はGo to local Declarationの略です。
				これはカーソル下(あるいはカーソル近傍)の変数の宣言位置を検索するコマンドです。
<code>0</code>と似ていますが、
				関数などのブロック内から宣言位置を探しカーソルを移動します。
				コメントも認識するため、コメント中に検索対象の変数名が含まれる場合でも
				宣言位置に正しく移動することができます。</p>

<p>また<code>0</code>というコマンドもあり、
				これはグローバルな変数の宣言位置へ移動するコマンドです。</p>

<p>なお<code>0</code>および<code>0</code>は
				ヒューリスティックな方法で検索を行なっており、
				編集中のプログラムの構文を解析している訳ではありません。
				とはいえ大抵の場合は期待通りの動きをするので、
				さほど気にする必要はありません。</p>

<h3>参考資料</h3>

<ul>
<li><a href="http://vimdoc.sourceforge.net/htmldoc/pattern.html#gd">:help gd</a></li>
</ul>

<address class="hack-author">kana</address>
