---
layout: post
title: "Hack #85: 末尾が省略可能な対象にマッチさせる"
date: 2009-10-10
author: thinca
---
<p>ほとんどの Vim のコマンドはインタラクティブに使用する時のために末尾が省略可能です。例えば、:write コマンドは :w でも済みます。また、:wr でも :wri でも :writ でも実行可能です。
				本 hack ではこれらのように末尾が任意に省略可能なパターンに正規表現をマッチさせる方法を紹介します。</p>

<h2>\%[]</h2>

<p>\%[<var>string</var>] とすることで、<var>string</var> の部分は任意に省略可能になります。この場合、全てを省略するパターンにもマッチするので気を付けてください。
				例えば冒頭のパターンは</p>

<pre class="prettyprint"><code>:\&lt;w\%[rite]\&gt;
</code></pre>

<p>となります。単語境界をはっきりさせるために <a href="/vim-users-jp/2009/09/hack80/">Hack #80: 単語境界にマッチさせる</a> で紹介した \&lt; \&gt; を使用しています。</p>

<address class="hack-author">thinca</address>
