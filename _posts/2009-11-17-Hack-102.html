---
layout: post
title: Hack #102  長いソースコードをざっと眺める
date: 2009-11-17
author: ujihisa
---
<h2>問題</h2>

<p>1000行を超える長いファイルをざっと通して見るとき、あなたはどのようにページ送りしていますか?</p>

<ul>
<li><kbd>j</kbd>を押しっぱなしにしてスクロール</li>
<li><kbd>&lt;C-f&gt;</kbd>で1画面ずつページ送り</li>
</ul>

<p>行数が少ないときは前者で十分ですが、ある程度以上の行数になるとスクロール酔いすることが知られています。
またターミナル上のVimで縦分割を行なっているときや、MacBook Airが熱暴走しているときには、<kbd>j</kbd>を押したままのスクロールは大変高負荷な処理なわけですので、画面がチラついてあなたの体力を一気に消耗させてしまいます。</p>

<p>このような場合には<kbd>&lt;C-f&gt;</kbd>で一気にページ送りすることが妥当と考えられますが、<kbd>&lt;C-f&gt;</kbd>というキーマッピングの入力はとてつもなく困難で、入力できる人はごくわずかでしょう。</p>

<h2>解決</h2>

<p>以下を<code>~/.vimrc</code>に記述します。</p>

<pre><code>noremap &lt;Space&gt;j &lt;C-f&gt;
noremap &lt;Space&gt;k &lt;C-b&gt;
</code></pre>

<p>以後、ノーマルモードやビジュアルモードで、<kbd>&lt;Space&gt;j</kbd>でページ送りができます。上方向には<kbd>&lt;Space&gt;k</kbd>で移動することになります。
<kbd>j</kbd>, <kbd>k</kbd>と直接対応するため非常に直感的です。</p>

<p>Vimでは一般に<kbd>&lt;C-f&gt;</kbd>などの入力が困難なキーは再割り当てを行なうことを前提としていると考えることができます。
このような例は他にも<kbd>%</kbd>や<kbd>^</kbd>などにみることができます。</p>

<address class="hack-author">ujihisa</address>
