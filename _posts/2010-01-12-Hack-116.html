---
layout: post
title: "Hack #116: 機能を割り当てるキーを探す際のヒント"
date: 2010-01-12
author: thinca
---
<p>Vim に新しくプラグインをインストールした際や、自分で便利な設定を書いた場合、それらの機能を素早く呼び出すために Key mapping を定義したいと思うでしょう。しかし、Vim では標準で多くの機能が各キーに割り当てられていて新しい機能を割り当てる場所が見つからないことがあります。本 hack ではそういった場合の手助けをします。</p>

<h3>キーボードを眺める</h3>

<p>キーボードを眺めて Vim における各キーの機能を思い出してください。思い出せないキーがあった場合、それはつまりあなたがそのキーの機能を使っていないということです。まずは :help でそのキーの機能を確認し、本当に必要ないと思えばそのキーには新しい便利な別の機能を割り当てられます。</p>

<h3>プレフィックスキーを活用する</h3>

<p>プレフィックスキーを使うことで、より多くの機能を割り当てることができます。ストローク数は 1 つ増えてしまいますが、キーボードのキーの数を考えるとこれは仕方がないでしょう。</p>

<p>以下にプレフィックスキーとして使えそうなキーを紹介します。</p>

<h4><kbd>\</kbd></h4>

<p><kbd>\</kbd> キーは標準の mapleader キーです。つまり、最初からプレフィックスキーとして使えるように空けられています。</p>

<h4><kbd>&lt;Space&gt;</kbd></h4>

<p><kbd>&lt;Space&gt;</kbd> は非常に押し易い位置にあるにも関わらず、Normal mode ではカーソルを右に移動させるだけで、これは l と同じなので使われることは滅多にありません。これを使わない手はないでしょう。</p>

<h4><kbd>m</kbd></h4>

<p><kbd>m</kbd> には標準でマークを付けると言う機能が割り当てられていますが、今は Visual mode もあるのでそれほど使われません。これをプレフィックスキーにしてしまうのも良いでしょう。</p>

<h4><kbd>q</kbd></h4>

<p><kbd>q</kbd> はキーボードマクロの記録を開始するキーです。キーボードマクロは便利な機能なので潰すべきではありませんが、マクロとして記録できる場所は <kbd>a</kbd> から <kbd>z</kbd> まで 26 個もあります。そして、大抵はどこに記録したかなどは覚えていられないので、使い慣れた特定のキーを使うと思います。その場合、残りの使わないキーに対して機能を割り当てることができます。</p>

<p>また、再生用の <kbd>@</kbd> キーも同様に使えるでしょう。</p>

<h3>あまり使わないキーを退避させる</h3>

<p>人によっては、たまにしか使わない、けれどたまには使うので使えないと困る、というキーがある場合があります。<kbd>s</kbd> <kbd>f</kbd> <kbd>t</kbd> などがその例です。
				その場合、それらのキーをプレフィックス付きの場所に再マップすることでプレフィックスキーとして使えます。</p>

<pre class="prettyprint"><code>nnoremap s &lt;Nop&gt;
nnoremap ss s
nnoremap sa <var>func-a</var>
nnoremap sb <var>func-b</var>
</code></pre>

<address class="hack-author">thinca</address>
