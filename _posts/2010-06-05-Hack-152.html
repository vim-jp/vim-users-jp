---
layout: post
title: "Hack #152: VimとGVimの相違点について知る"
date: 2010-06-05
author: Shougo
---
<p>普段何気なく使っているVimとGVimですが、二つのVimには様々な違いがあります。違いを正しく知って、使い分けることが真のVim使いへの近道です。</p>

<h2>Vimの利点</h2>

<h3>GUIがなくても動作する</h3>

<p>sshでリモートログインしてVimを使用する場合、当然ですがGVimは使用できません。</p>

<h3>screenやシェルとの連携が楽</h3>

<p>GVimでは外部コマンドを呼び出すとDos窓が開いたり（Windows版）、細かな動作が端末時と異なったりと、連携しづらい面があります。
				特にユーザーからの入力が必要な場合に厳しいです。screenと連携できるのもVimのみです。外部コマンドを別のscreenで実行しながらVimを併用するというやり方がオーソドックスでしょう。</p>

<h2>GVimの利点</h2>

<h3>描画が高速</h3>

<p>端末は古い仕様を引きずっているので基本的に描画が遅いですが、GVimは高速に動作します。特に、Macの端末は描画が遅いようです。</p>

<h3>フルカラーが使用できる</h3>

<p>特にWindowsの端末はひどく、16色しか使用できません。下線など、GVimにしかない機能もあります。GVim用のcolorschemeを256色環境で使用するには、雑多な設定が必要であるなど、手間もかかります。この辺りの設定については、<a href="http://vim-users.jp/2009/08/hack64/"><em>[Hack #64: 256色ターミナルでVimを使用する]</em></a>を参照してください。</p>

<h3>日本語が使用しやすい</h3>

<p>端末の場合、日本語の特殊記号の描画が乱れることがあります。
				IMEとの連携も簡単です。端末の場合はそうもいかないので、skk.vimやUIMのvi協調モードを使う必要があります。</p>

<h3>設定が簡単である</h3>

<p>端末上のVimだと、一部に摩訶不思議な設定をしないと動作しないことがあります。</p>

<h3>特殊なキーを利用できる</h3>

<p>端末では使用できるキーにかなり制限があります。</p>

<h3>複数のGVimを開くことができる</h3>

<p>端末ではscreenを使用するか、端末のタブ機能を使うしかありません。</p>

<h3>クリップボードを使用できる</h3>

<p>端末でクリップボードと連携するにはkana氏の作成した、<a href="http://www.vim.org/scripts/script.php?script_id=2098">fakeclip.vim</a>をインストールする必要があります。使い方に癖があるので、注意が必要です。</p>

<h3>マウスとの連携</h3>

<p>キーボード派からは邪道と言われるかもしれませんが、右クリックでポップアップメニューが使えるのは便利です。</p>

<h3>アイコンの使用</h3>

<p>エラー部分にxpm形式のアイコンが使用できます。表示がわかりやすくなって便利です。</p>

<h3>自由なフォントの使用</h3>

<p>通常のVimの場合、フォントは端末に制限されてしまいます。GVimではEmacsのように英字と日本語でフォントを変更したり、フォントの大きさを変えるのも自由自在です。ただし、Mac OS X以外ではプロポーショナルフォントは使用できません。Mac OS Xでプロポーショナルフォントを使用する方法については、次のHackを参照してください。<a href="http://vim-users.jp/2009/10/hack92/"><em>[Hack #92: Vimでプロポーショナルフォントを使う (Mac OS X編)]</em></a></p>

<h2>Emacsではどうか</h2>

<p>EmacsはGUI版で画像が表示できたり、ツールチップに対応しているなど、圧倒的にGUI版が高機能であるうえに、
				外部シェルとの連携やEmacsを端末化することも容易です。
				よって、screenと連携したり、リモート接続する場合を除きGUI版を利用する人が多いようです。</p>

<h2>GVim+vimshell</h2>

<p>GVimには前述の通り、欠点もあります。しかしWindowsでは端末とシェルがしょぼすぎる上に、外部コマンドも貧弱、screenもないのでGVim一択となることでしょう。外部コマンドの連携についても、<a href="http://github.com/Shougo/vimshell">vimshell</a>と併用することで、シェルが必要な作業の90%はこなせると思います。ただしvimshellにはパイプがまともに使えないなどのバグがあります。cursesを用いた複雑なプログラムも動作しないため、そのようなときは端末上のVimを使用せざるをえないでしょう。</p>

<h2>筆者の使用環境</h2>

<p>筆者はWindowsでもLinuxでも、ほぼGVimのみを使います。なぜなら筆者はVim上ですべての作業を完結させたいと考えていることに加え、端末の描画が遅いことが気になるからです。
				日々のシェルを使用する作業はGVim内からvimshellの機能を用いて行います。
				どうしようもなければ、時々端末も使用しますが、動作確認でもない限り端末上のVimはほとんど使用しません。</p>

<address class="hack-author">Shougo</address>
