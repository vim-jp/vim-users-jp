---
layout: post
title: "Hack #153: 検索したパターンで置換する"
date: 2010-06-09
author: thinca
---
<p>置換を行いたい場合でも、パターンが合っているか、そもそも対象が存在するかを確認するために、まずは検索をしてみるということはよくあります。検索は * による単語の検索や<a href="/vim-users-jp/2009/11/25/Hack-104.html">Hack #104: Visual mode で選択したテキストを検索する</a>で紹介した方法などで手軽に行えますが、置換となるとそうは行きません。</p>

<h3>:substitute の検索パターン</h3>

<p><code>:substitute</code> コマンドの検索パターンに空を指定すると、直前の検索パターンを指定したことになります。これは通常の検索や * によって検索されたパターンも含まれます。つまり、</p>

<ol>
<li>まずは検索を行う。</li>
<li>:%s//{置換文字列}/g を実行する。</li>
</ol>

<p>を行うことで、検索パターンを手軽に指定して置換を行うことができます。さらに検索結果をハイライトする設定になっていれば、どこが置換されるかも一目瞭然です。</p>

<address class="hack-author">thinca</address>
