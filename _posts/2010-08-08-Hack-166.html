---
layout: post
title: "Hack #166: ローマ字の大文字/小文字を変換する"
date: 2010-08-08
author: thinca
---
<p>ローマ字の大文字と小文字を変換する機会は意外に多いです。なので、Vim にはこれを行うための便利な機能があります。</p>

<h3><kbd>~</kbd></h3>

<p><kbd>~</kbd> を押すと、カーソル下のローマ字の大文字/小文字を相互に変換します。大文字は小文字に、小文字は大文字になります。この際、カーソルを右に進めます。
				[count] を指定することで複数の文字を同時に変換することができます。変換は一括で大文字/小文字にするのではなく、文字単位で作用します。つまり VimHack は vIMhACK になります。</p>

<h3><kbd>gu</kbd> <kbd>gU</kbd> <kbd>g~</kbd></h3>

<p>これらはオペレータで、対象に対してそれぞれ、<kbd>gu</kbd> は小文字への変換を、<kbd>gU</kbd> は大文字への変換を、<kbd>g~</kbd> は大文字/小文字の相互変換を実行します。
				例えば、現在のカーソルのある単語を全て大文字にしたい場合は <kbd>gUiw</kbd> です。
				また、<kbd>yy</kbd> などと同様に行に対して動作する <kbd>gugu</kbd> <kbd>guu</kbd> <kbd>gUgU</kbd> <kbd>gUU</kbd> <kbd>g~g~</kbd> <kbd>g~~</kbd> があります。</p>

<h3>Visual mode での <kbd>u</kbd> <kbd>U</kbd> <kbd>~</kbd></h3>

<p>これらは Visual mode では g なしで動作します。</p>

<h3><code class="option">'tildeop'</code></h3>

<p><code class="option">'tildeop'</code> オプションをオンにすると、<kbd>~</kbd> はオペレータに変化します。<kbd>g~</kbd> を頻繁に使う場合には便利でしょう。</p>

<h3>正規表現</h3>

<p>もっと複雑な変換を行いたい場合もあるでしょう。正規表現で置換する際、結果の大文字/小文字を指定することができます。
				置換後のパターンに u があると、次の文字は大文字になります。l があると小文字になります。</p>

<pre class="prettyprint"><code class="lang-vim">:s/\w\+/\u\0/g
&quot;bram moolenaar&quot; → &quot;Bram Moolenaar&quot;
</code></pre>

<p>また、U や L があると、E が出現するまでそれぞれ大文字/小文字に変換します。</p>

<address class="hack-author">thinca</address>
