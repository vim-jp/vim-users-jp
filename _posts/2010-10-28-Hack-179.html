---
layout: post
title: "Hack #179: &#8216;cpoptions&#8217;, &#8216;compatible&#8217;について知る"
date: 2010-10-28
author: tyru
---
<p>こんにちは。<br />
				最近Twitterアカウントをうっかり削除してしまい体調が良くなり身長が2cm伸びたtyruです。<br />
				はてなランド復活しねーかな。</p>

<p>さて、タイトルの&#8217;cpoptions&#8217;と&#8217;compatible&#8217;についてですが、<br />
				理由もわからず</p>

<pre class="prettyprint"><code class="lang-vim">set nocompatible

" 以下は省略形
set nocp
</code></pre>

<p>と.vimrcに書いている方も多いことでしょう。<br />
				また</p>

<pre class="prettyprint"><code class="lang-vim">set cpoptions&amp;vim

" 以下は省略形
set cpo&amp;vim
</code></pre>

<p>というような行かもしれません。<br />
				しかしこの一行は実は必要ありません。</p>

<p><code>:help compatible</code>するとこのように書かれています。(<a href="http://www.kaoriya.net/vimdoc_j/">日本語版</a>の記述です)</p>

<pre class="prettyprint"><code>(既定では オン、ファイル|vimrc|または
                |gvimrc|が発見されたらオフ)
</code></pre>

<p>つまり、.vimrcか.gvimrcをVimが見つけられていればこの値は自動的にオフになるのです。<br />
				なので.vimrcで<code class="lang-vim">set nocompatible</code>しても意味がありません。<br />
				しかもこのオプションがオフの時は<code>'cpoptions'</code>は自動的にVim互換の値になるので<br />
<code class="lang-vim">set cpo&amp;vim</code>とする必要もありません。<br />
				ようするにユーザがこの値をいじる必要はありません。</p>

<p>また、この2つのオプションを変える際は<br />
				Vimの様々な挙動を変えるオプションであることを理解した上で変更してください。(特に&#8217;compatible&#8217;オプション)<br />
				上の2つの定型句なら問題はない、というか述べた通り意味がないのですが、<br />
				それ以外の値にする場合は一度と言わず何度かhelpに目を通した上で変えましょう。</p>

<address class="hack-author">tyru</address>
